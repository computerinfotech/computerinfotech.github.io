<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>:: COMPUTER INFOTECH ::</title>

<style>
body{font-family:Arial;background:#cfe8ff}
.invoice{
 width:900px;margin:auto;border:1px solid #000;
 padding:10px;background:#fff;
 box-shadow:0 0 15px rgba(0,0,0,.3)
}
h2{text-align:center;margin:5px 0}

input,select{
 font-family:'Courier New',monospace;
 font-weight:bold;
 text-transform:uppercase;
 width:100%;
}

.header{display:flex;justify-content:space-between}
.box{border:1px solid #000;padding:6px;font-size:12px;background:#eef6ff}

table{width:100%;border-collapse:collapse;font-size:12px;margin-top:8px}
th,td{border:1px solid #000;padding:5px;vertical-align:middle}
th{background:#e0e0e0}

.buyer-row{display:flex;align-items:center;margin-bottom:6px}
.buyer-row label{width:100px;font-weight:bold}

#itemTable th,#itemTable td,#itemTable input{text-align:center}
.total-table th,.total-table td{text-align:center}

.gst-toggle{margin:8px 0;font-weight:bold}

@media print{
 button,.gst-toggle{display:none}
 input,select{border:none;outline:none}
 body,.box,th{background:#fff}
}
</style>
</head>

<body>
<div class="invoice">
<h2>TAX INVOICE</h2>

<div class="header">
<div class="box" style="width:48%">
<strong style="font-size:18px">COMPUTER INFOTECH</strong><br>
OLD G.T. ROAD, OPP. HINDI HIGH SCHOOL<br>
BUDBUD, PURBA BARDHAMAN<br>
WEST BENGAL - 713403<br>
MOBILE : 9932482798<br>
GSTIN : 19BALPA7391G1ZG
</div>

<div class="box" style="width:48%">
Invoice No : <input id="inv"><br>
Date & Time : <input id="dt" readonly><br>
Payment :
<select>
<option>CASH</option>
<option>ONLINE</option>
</select>
</div>
</div>

<!-- BUYER DETAILS -->
<div class="box" style="margin-top:6px">
<strong>BUYER DETAILS</strong><br><br>

<div class="buyer-row"><label>NAME :</label><input></div>
<div class="buyer-row"><label>MOBILE :</label><input></div>
<div class="buyer-row"><label>ADDRESS :</label><input></div>

<div class="buyer-row">
<label>STATE :</label>
<select>
<option>WEST BENGAL</option>
<option>ANDHRA PRADESH</option>
<option>ASSAM</option>
<option>BIHAR</option>
<option>DELHI</option>
<option>GUJARAT</option>
<option>JHARKHAND</option>
<option>KARNATAKA</option>
<option>MAHARASHTRA</option>
<option>ODISHA</option>
<option>RAJASTHAN</option>
<option>TAMIL NADU</option>
<option>UTTAR PRADESH</option>
</select>
</div>

<div class="buyer-row"><label>PIN CODE :</label><input maxlength="6"></div>
<div class="buyer-row"><label>GSTIN :</label><input></div>
</div>

<table id="itemTable">
<tr>
<th>Sl</th><th>Description</th><th>HSN</th>
<th>Qty</th><th>Rate</th><th>Amount</th>
</tr>
<tr>
<td>1</td>
<td><input></td>
<td><input></td>
<td><input type="number" value="1" oninput="calc()"></td>
<td><input type="number" oninput="calc()"></td>
<td class="amt">0.00</td>
</tr>
</table>

<button onClick="addRow()">+ Add Item</button>

<div class="gst-toggle">
<input type="checkbox" id="gstCheck" checked onChange="calc()"> GST BILL
</div>

<table class="total-table">
<tr><th><div align="right">Taxable Value</div></th><th id="taxable">0.00</th></tr>
<tr><th><div align="right">CGST @9%</div></th><th id="cgst">0.00</th></tr>
<tr><th><div align="right">SGST @9%</div></th><th id="sgst">0.00</th></tr>
<tr><th><div align="right">Round Off</div></th><th id="round">0.00</th></tr>
<tr><th><div align="right">GRAND TOTAL</div></th><th id="total">0.00</th></tr>
</table>

<p><strong>Amount in Words :</strong> <span id="words"></span></p>

<strong>Payment QR Code :</strong><br>
<img id="qr" style="width:140px">

<table style="width:100%;margin-top:15px;border:none">
<tr>
<td style="width:50%;border:none;font-size:12px">
<u><strong>DECLARATION</strong></u><br><br>
1. Goods once sold will not be exchanged or taken back.<br>
2. Warranty covered by company / service centre.<br>
3. Subject to Purba Bardhaman Jurisdiction only.
</td>

<td style="width:50%;border:none;text-align:right;font-size:12px">
<strong>For COMPUTER INFOTECH</strong><br>
<img src="../DESKTOP/STAMP CI WITH SIGN.jpg" width="180"><br>
_________________________<br>
<strong>Authorized Signature</strong>
</td>
</tr>
</table>

<button onClick="window.print()">Print Invoice</button>
<div align="center" style="font-size:12px">
This is a Computer Generated Invoice
</div>
</div>

<script>
let prefix="CI",fy="25-26",start=1001;
let last=localStorage.getItem("lastInv")||start;
inv.value=`${prefix}/${last}/${fy}`;

function setDateTime(){
 let d=new Date(),f=n=>String(n).padStart(2,'0');
 dt.value=`${f(d.getDate())}-${f(d.getMonth()+1)}-${d.getFullYear()} ${f(d.getHours())}:${f(d.getMinutes())}:${f(d.getSeconds())}`;
}
setDateTime();setInterval(setDateTime,1000);

function addRow(){
 let t=itemTable,r=t.insertRow();
 r.innerHTML=`<td>${t.rows.length-1}</td>
 <td><input></td>
 <td><input></td>
 <td><input type="number" value="1" oninput="calc()"></td>
 <td><input type="number" oninput="calc()"></td>
 <td class="amt">0.00</td>`;
}

function numberToWords(n){
 const a=['','One','Two','Three','Four','Five','Six','Seven','Eight','Nine','Ten',
 'Eleven','Twelve','Thirteen','Fourteen','Fifteen','Sixteen','Seventeen','Eighteen','Nineteen'];
 const b=['','', 'Twenty','Thirty','Forty','Fifty','Sixty','Seventy','Eighty','Ninety'];
 if(n===0) return 'Zero';
 function w(num){
  if(num<20) return a[num];
  if(num<100) return b[Math.floor(num/10)]+' '+a[num%10];
  if(num<1000) return a[Math.floor(num/100)]+' Hundred '+w(num%100);
  if(num<100000) return w(Math.floor(num/1000))+' Thousand '+w(num%1000);
  return w(Math.floor(num/100000))+' Lakh '+w(num%100000);
 }
 return w(n).replace(/\s+/g,' ').trim();
}

function calc(){
 let sum=0;
 document.querySelectorAll(".amt").forEach(c=>{
  let r=c.parentElement;
  let q=r.children[3].children[0].value||0;
  let rt=r.children[4].children[0].value||0;
  let a=q*rt;
  c.innerText=a.toFixed(2);
  sum+=a;
 });
 let gst=gstCheck.checked?sum*0.09:0;
 let gross=sum+gst+gst;
 let rounded=Math.round(gross);
 let roundDiff=rounded-gross;

 taxable.innerText=sum.toFixed(2);
 cgst.innerText=sgst.innerText=gst.toFixed(2);
 round.innerText=roundDiff.toFixed(2);
 total.innerText=rounded.toFixed(2);

 words.innerText="Rupees "+numberToWords(rounded)+" Only";

 qr.src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="+
 encodeURIComponent(`upi://pay?pa=8250915598@ibl&pn=COMPUTER INFOTECH&am=${rounded.toFixed(2)}&cu=INR`);
}
calc();
</script>

</body>
</html>
